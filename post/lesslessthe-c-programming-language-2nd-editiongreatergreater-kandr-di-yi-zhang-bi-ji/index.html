<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>《The C Programming Language, 2nd Edition》K&amp;R Chapter 1 - A Tutorial Introduction 笔记 | Fly_Fire1000的博客</title>
<link rel="shortcut icon" href="https://fire1000.github.io/favicon.ico?v=1663500262300">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://fire1000.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="《The C Programming Language, 2nd Edition》K&amp;R Chapter 1 - A Tutorial Introduction 笔记 | Fly_Fire1000的博客 - Atom Feed" href="https://fire1000.github.io/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="printf
printf(&quot;\c&quot;);MinGW gcc输出c。(\c不是转义序列)
printf(&quot;%6d&quot;, -17);，输出□□□-17，其中□表示空格。(%6d中6表示最少打印宽度，6是正数..." />
    <meta name="keywords" content="The C Programming Language" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://fire1000.github.io">
  <img class="avatar" src="https://fire1000.github.io/images/avatar.png?v=1663500262300" alt="">
  </a>
  <h1 class="site-title">
    Fly_Fire1000的博客
  </h1>
  <p class="site-description">
    温故而知新
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              《The C Programming Language, 2nd Edition》K&amp;R Chapter 1 - A Tutorial Introduction 笔记
            </h2>
            <div class="post-info">
              <span>
                2022-02-01
              </span>
              <span>
                7 min read
              </span>
              
                <a href="https://fire1000.github.io/tag/p29rjtcKO/" class="post-tag">
                  # The C Programming Language
                </a>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <h2 id="printf">printf</h2>
<p><code>printf(&quot;\c&quot;);</code>MinGW gcc输出<code>c</code>。(\c不是转义序列)</p>
<p><code>printf(&quot;%6d&quot;, -17);</code>，输出<code>□□□-17</code>，其中□表示空格。(%6d中6表示最少打印宽度，6是正数表示右对齐，如果是负数则表示左对齐)</p>
<p><code>printf(&quot;%.0f&quot;, -17.8);</code>，输出<code>-18</code>。(%.0f中.0表示小数精度)</p>
<p>%o表示8进制，%x表示16进制，%%表示%。</p>
<h2 id="变量类型">变量类型</h2>
<p>int通常为16位或32位，16位取值范围为-32768 ~ +32767。</p>
<p>long至少为32位，通常为32位。</p>
<p>float通常为32位，至少6位有效数字，取值范围<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>−</mo><mn>1</mn><msup><mn>0</mn><mn>38</mn></msup><mo>∼</mo><mo>+</mo><mn>1</mn><msup><mn>0</mn><mn>38</mn></msup></mrow><annotation encoding="application/x-tex">-10^{38} \sim +10^{38}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">8</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord">+</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">8</span></span></span></span></span></span></span></span></span></span></span></span>。</p>
<h2 id="常量">常量</h2>
<p>文件结束符EOF，在&lt;stdio.h&gt;中定义，int类型，值在char的取值范围之外。</p>
<p>'A'是字符常量，本质是整数，值取决于编译器认为的源文件字符集。在ASCII中，'A'为65，'\n'为10。在任何字符集中'0'、'1'、'2'、...、'9'都是连续递增的。</p>
<h2 id="运算符">运算符</h2>
<p>如果算术运算符所有操作数都为整型，则执行整型运算(如舍位除法)。其中一个操作数为浮点，则执行浮点运算。</p>
<p><code>nl = nw = nc = 0;</code>的执行顺序为<code>nl = (nw = (nc = 0));</code>。</p>
<p>||和&amp;&amp;是短路运算符。</p>
<h2 id="定义与声明">定义与声明</h2>
<p>定义包含声明，定义会分配内存，而声明不会。</p>
<p>ANSI C之前，函数原型声明包含返回值类型，不包含形参列表，如<code>int power();</code>。</p>
<p>函数在调用之前必须存在函数原型声明。<br>
因此，ANSI C之前，如果一个函数，缺省函数原型声，编译器认为这个函数隐式声明返回值类型为int。</p>
<p>ANSI C兼容旧式函数原型声明。</p>
<p>ANSI C支持函数原型声明包含形参列表，其中形参名是可选的。如<code>int power(int, int);</code>。</p>
<p>当函数原型声明中包含形参列表时，编译器会检查实参列表，并进行适当的强转。不包含时，编译器不检查实参列表，整数强转为int，浮点强转为double。</p>
<p>在函数原型声明中，不包含形参列表与形参列表为void的含义不同，前者表示编译器不检查实参列表，后者表示编译器检查实参列表，如果实参存在，则报错。</p>
<p>ANSI C之前，函数定义的语法与ANSI C差异较大。ANSI C兼容旧式函数定义。</p>
<p>在函数外部定义的变量称为外部变量。<br>
外部变量定义后，外部变量是静态的(在程序运行期间一直存在)。<br>
在外部变量定义之前访问它，必须使用extern显式声明。在定义之后访问它，可选使用extern显式声明。<br>
访问在其他文件中定义的外部变量(前提是外部链接)，必须使用extern显式声明。</p>
<h2 id="函数">函数</h2>
<p><code>return;</code>不返回有用的值，而不是不返回值。例如：</p>
<pre><code>#include &lt;stdio.h&gt;

int func()
{
    return;
}

main()
{
    printf(&quot;%d&quot;, func());
}
</code></pre>
<p>MinGW gcc输出<code>1</code>。</p>
<p>函数的参数是值传递的，保存在临时变量形参中，修改形参的值不影响实参的值。</p>
<p>在函数调用期间存在，函数退出时销毁的局部变量称为自动变量。<br>
auto变量是自动变量，static变量是静态变量，反之不成立。</p>
<h2 id="例程">例程</h2>
<h3 id="复制文件">复制文件</h3>
<pre><code>#include &lt;stdio.h&gt;
main()
{
    int c;

    while ((c = getchar()) != EOF)
        putchar(c);
}
</code></pre>
<h3 id="统计字符数">统计字符数</h3>
<pre><code>#include &lt;stdio.h&gt;
main()
{
    double nc;

    for (nc = 0; getchar() != EOF; ++nc)
         ;
    printf(&quot;%.0f\n&quot;, nc);
}
</code></pre>
<h3 id="统计行数">统计行数</h3>
<pre><code>#include &lt;stdio.h&gt;
main()
{
    int c, nl;

    nl = 1;
    while ((c = getchar()) != EOF)
        if (c == '\n')
            ++nl;
    printf(&quot;%d\n&quot;, nl);
}
</code></pre>
<h3 id="统计单词数假设不包含空格-制表符-换行符的字符序列为单词">统计单词数(假设不包含空格、制表符、换行符的字符序列为单词)</h3>
<ol>
<li>起始state为OUT。</li>
<li>当遇到非空格、制表符、换行符字符时，state置IN，单词数自增。</li>
<li>当遇到空格、制表符、换行符时，state置OUT。</li>
</ol>
<pre><code>#include &lt;stdio.h&gt;
#define IN 1 /* inside a word */
#define OUT 0 /* outside a word */
main()
{
    int c, nl, nw, nc, state;

    state = OUT;
    nl = nw = nc = 0;
    while ((c = getchar()) != EOF) {
        ++nc;
        if (c == '\n')
            ++nl;
        if (c == ' ' || c == '\n' || c = '\t')
            state = OUT;
        else if (state == OUT) {
            state = IN;
            ++nw;
        }
    }
    printf(&quot;%d %d %d\n&quot;, nl, nw, nc);
}
</code></pre>
<h3 id="统计各个数字-空白符及其他字符出现的次数">统计各个数字、空白符及其他字符出现的次数</h3>
<pre><code>#include &lt;stdio.h&gt;
/* count digits, white space, others */
main()
{
    int c, i, nwhite, nother;
    int ndigit[10];

    nwhite = nother = 0;
    for (i = 0; i &lt; 10; ++i)
        ndigit[i] = 0;

    while ((c = getchar()) != EOF)
        if (c &gt;= '0' &amp;&amp; c &lt;= '9')
            ++ndigit[c-'0'];
        else if (c == ' ' || c == '\n' || c == '\t')
            ++nwhite;
        else
            ++nother;

    printf(&quot;digits =&quot;);
    for (i = 0; i &lt; 10; ++i)
        printf(&quot; %d&quot;, ndigit[i]);
    printf(&quot;, white space = %d, other = %d\n&quot;,
        nwhite, nother);
}
</code></pre>
<h3 id="幂函数">幂函数</h3>
<pre><code>#include &lt;stdio.h&gt;

int power(int m, int n);

/* test power function */
main()
{
    int i;

    for (i = 0; i &lt; 10; ++i)
        printf(&quot;%d %d %d\n&quot;, i, power(2,i), power(-3,i));
    return 0;
}

/* power: raise base to n-th power; n &gt;= 0 */
int power(int base, int n)
{
    int i, p;

    p = 1;
    for (i = 1; i &lt;= n; ++i)
        p = p * base;
    return p;
}
</code></pre>
<h3 id="打印最长的行">打印最长的行</h3>
<pre><code>#include &lt;stdio.h&gt;
#define MAXLINE 1000 /* maximum input line length */

int getline(char line[], int maxline);
void copy(char to[], char from[]);

/* print the longest input line */
main()
{
    int len; /* current line length */
    int max; /* maximum length seen so far */
    char line[MAXLINE]; /* current input line */
    char longest[MAXLINE]; /* longest line saved here */

    max = 0;
    while ((len = getline(line, MAXLINE)) &gt; 0)
        if (len &gt; max) {
            max = len;
            copy(longest, line);
        }
    if (max &gt; 0) /* there was a line */
        printf(&quot;%s&quot;, longest);
    return 0;
}

/* getline: read a line into s, return length */
int getline(char s[],int lim)
{
    int c, i;

    for (i=0; i &lt; lim-1 &amp;&amp; (c=getchar())!=EOF &amp;&amp; c!='\n'; ++i)
        s[i] = c;
    if (c == '\n') {
        s[i] = c;
        ++i;
    }
    s[i] = '\0';
    return i;
}

/* copy: copy 'from' into 'to'; assume to is big enough */
void copy(char to[], char from[])
{
    int i;
    i = 0;
    while ((to[i] = from[i]) != '\0')
        ++i;
}
</code></pre>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#printf">printf</a></li>
<li><a href="#%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B">变量类型</a></li>
<li><a href="#%E5%B8%B8%E9%87%8F">常量</a></li>
<li><a href="#%E8%BF%90%E7%AE%97%E7%AC%A6">运算符</a></li>
<li><a href="#%E5%AE%9A%E4%B9%89%E4%B8%8E%E5%A3%B0%E6%98%8E">定义与声明</a></li>
<li><a href="#%E5%87%BD%E6%95%B0">函数</a></li>
<li><a href="#%E4%BE%8B%E7%A8%8B">例程</a>
<ul>
<li><a href="#%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6">复制文件</a></li>
<li><a href="#%E7%BB%9F%E8%AE%A1%E5%AD%97%E7%AC%A6%E6%95%B0">统计字符数</a></li>
<li><a href="#%E7%BB%9F%E8%AE%A1%E8%A1%8C%E6%95%B0">统计行数</a></li>
<li><a href="#%E7%BB%9F%E8%AE%A1%E5%8D%95%E8%AF%8D%E6%95%B0%E5%81%87%E8%AE%BE%E4%B8%8D%E5%8C%85%E5%90%AB%E7%A9%BA%E6%A0%BC-%E5%88%B6%E8%A1%A8%E7%AC%A6-%E6%8D%A2%E8%A1%8C%E7%AC%A6%E7%9A%84%E5%AD%97%E7%AC%A6%E5%BA%8F%E5%88%97%E4%B8%BA%E5%8D%95%E8%AF%8D">统计单词数(假设不包含空格、制表符、换行符的字符序列为单词)</a></li>
<li><a href="#%E7%BB%9F%E8%AE%A1%E5%90%84%E4%B8%AA%E6%95%B0%E5%AD%97-%E7%A9%BA%E7%99%BD%E7%AC%A6%E5%8F%8A%E5%85%B6%E4%BB%96%E5%AD%97%E7%AC%A6%E5%87%BA%E7%8E%B0%E7%9A%84%E6%AC%A1%E6%95%B0">统计各个数字、空白符及其他字符出现的次数</a></li>
<li><a href="#%E5%B9%82%E5%87%BD%E6%95%B0">幂函数</a></li>
<li><a href="#%E6%89%93%E5%8D%B0%E6%9C%80%E9%95%BF%E7%9A%84%E8%A1%8C">打印最长的行</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://fire1000.github.io/post/lesslessp16-xian-xing-dai-shu-de-ben-zhi-xi-lie-he-ji-12-ke-lai-mu-fa-ze-ji-he-jie-shi-greatergreater-bi-ji/">
              <h3 class="post-title">
                《P16 线性代数的本质 - 系列合集 12 - 克莱姆法则，几何解释》3Blue1Brown 笔记
              </h3>
            </a>
          </div>
        

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '660966b39935a77f9dcd',
    clientSecret: '7c7b060856a916461e6a5d6e9c2141d9a2d2a045',
    repo: 'fire1000.github.io',
    owner: 'Fire1000',
    admin: ['Fire1000'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="https://fire1000.github.io/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
